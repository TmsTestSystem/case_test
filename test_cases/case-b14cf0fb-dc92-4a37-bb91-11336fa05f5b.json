{
  "id": "b14cf0fb-dc92-4a37-bb91-11336fa05f5b",
  "project_id": "d9879276-d4be-498c-9577-fdd8beabb586",
  "test_plan_id": null,
  "section_id": "f1469705-a806-4664-9db5-9dd1f6d61953",
  "title": "Вызов процесса вне релиза через очередь RMQ",
  "description": "Очередь RMQ позволяет вызвать любой процесс из платформы СПР. \nДля этого необходимо указать обязательные параметры: headers и payload.\n\n        headers: [\n          {\"callback_routing_key\", :longstr, callback_routing_key},\n          {\"project_code\", :longstr, @proj_code},\n          {\"business_process_path\", :longstr, \"bps/math_process.df.json\"},\n          {\"business_process_branch\", :longstr, \"main\"}\n        ]",
  "preconditions": "Установлен дефолтный хендлер MainHandler.\n(Переменная для docker compose: RABBITMQ_MODULE: \"DfAsync.RabbitMq.MainHandler\")\nВ проекте создан валидный процесс. \n",
  "steps": "1. Открыть интерфейс брокера сообщений RMQ.\n2. Открыть вкладку Queues (Очереди).\n3. Открыть очередь df_in.\n4. В поле headers указать обязательные атрибуты:\nbusiness_process_branch = main\nbusiness_process_path = process.df.json\nproject_code = PR\ncallback_routing_key = df_in_errors (нельзя указывать значение атрибута совпадающее с значением очереди из которой производится вызов процесса)\n5. В поле payload ввести:\n{\n  \"request_meta\": {\n    \"object_id\": \"string\",\n    \"request_id\": \"string\",\n    \"tags\": \"string\"\n  },\n  \"request_data\": \"string\"\n}\n6. Нажать Publish message.",
  "expected_result": "В журнале процессов отобразился вызов процесса. Тип интеграции - RMQ.",
  "priority": "medium",
  "status": "draft",
  "created_by": null,
  "assigned_to": null,
  "created_at": "2026-01-16T09:37:29.638Z",
  "updated_at": "2026-01-16T09:37:29.638Z",
  "is_deleted": false,
  "deleted_at": null
}